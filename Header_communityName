(function () {

  const community =
    new URL(window.location.href).searchParams.get("community") || "";

  if (!community) return;

  const interval = setInterval(() => {

    const iframe = document.querySelector("#iframe_div iframe");
    if (!iframe || !iframe.contentDocument) return;

    const doc = iframe.contentDocument;
    const header = doc.querySelector(".pre-content");

    if (!header) return;

    // אם כבר הוספנו — לעצור
    if (doc.getElementById("community-title")) {
      clearInterval(interval);
      return;
    }

    const title = doc.createElement("div");
    title.id = "community-title";
    title.innerText = "רישום לקהילת " + community;

    title.style.textAlign = "center";
    title.style.fontWeight = "bold";
    title.style.fontSize = "20px";
    title.style.margin = "10px 0";

    header.appendChild(title);

    clearInterval(interval);

  }, 200);

})();
