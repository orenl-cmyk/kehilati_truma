(function () {

  function getParam(name) {
    const url = new URL(window.location.href);
    return url.searchParams.get(name);
  }

  function replaceText() {
    const community = getParam("community");
    if (!community) return;

    const spans = document.querySelectorAll("span");

    spans.forEach(span => {
      if (span.innerText.includes("רישום לקהילת -")) {
        span.innerText = `רישום לקהילת ${community}`;
      }
    });
  }

  // Origami מרנדר מאוחר → ננסה כמה פעמים
  const interval = setInterval(() => {
    replaceText();

    if (document.body.innerText.includes(getParam("community"))) {
      clearInterval(interval);
    }
  }, 300);

})();
