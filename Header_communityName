(function () {

  function getParam(name) {
    return new URL(window.location.href).searchParams.get(name) || "";
  }

  const community = getParam("community");
  if (!community) return;

  function injectHeader() {

    const headerBox = document.querySelector(".pre-content");
    if (!headerBox) return;

    if (document.getElementById("community-header")) return;

    const title = document.createElement("div");
    title.id = "community-header";
    title.innerText = `רישום לקהילת ${community}`;

    title.style.textAlign = "center";
    title.style.fontWeight = "bold";
    title.style.color = "#1f5fa8";
    title.style.margin = "8px 0";
    title.style.padding = "0 10px";
    title.style.lineHeight = "1.3";

    // רספונסיבי
    title.style.fontSize = "clamp(16px, 4vw, 32px)";

    headerBox.appendChild(title);
  }

  const interval = setInterval(() => {
    injectHeader();

    if (document.getElementById("community-header")) {
      clearInterval(interval);
    }
  }, 300);

})();
