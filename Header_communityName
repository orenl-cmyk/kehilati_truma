(function () {

  function getParam(name) {
    const url = new URL(window.location.href);
    return url.searchParams.get(name);
  }

  function replaceHeader() {

    const community = getParam("community");
    if (!community) return;

    const headers = document.querySelectorAll('span[style*="32pt"]');

    headers.forEach(el => {
      if (el.innerText.includes("רישום לקהילת")) {
        el.innerText = `רישום לקהילת ${community}`;
      }
    });
  }

  // נריץ שוב ושוב עד שאוריגמי סיים לרנדר
  const interval = setInterval(() => {
    replaceHeader();

    if (document.body.innerText.includes(getParam("community"))) {
      clearInterval(interval);
    }
  }, 300);

})();
