(function () {

  const community =
    new URL(window.location.href).searchParams.get("community") || "";

  if (!community) return;

  const replace = () => {

    const walker = document.createTreeWalker(
      document.body,
      NodeFilter.SHOW_TEXT,
      null
    );

    let node;

    while ((node = walker.nextNode())) {
      if (node.nodeValue.includes("@")) {
        node.nodeValue = node.nodeValue.replace("@", community);
      }
    }
  };

  const interval = setInterval(() => {
    replace();

    if (!document.body.innerText.includes("@")) {
      clearInterval(interval);
    }

  }, 200);

})();
